apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "danswer-stack.fullname" . }}
  labels:
    {{- include "danswer-stack.labels" . | nindent 4 }}
data:
  INTERNAL_URL: "{{ include "danswer-stack.fullname" . }}-api:80"
  POSTGRES_HOST: {{ .Release.Name }}-postgres
  VESPA_HOST: "document-index-service"
  MODEL_SERVER_HOST: "inference-model-server-service"
  INDEXING_MODEL_SERVER_HOST: "indexing-model-server-service"
{{- range $key, $value := .Values.configMap }}
  {{ $key }}: "{{ $value }}"
{{- end }}